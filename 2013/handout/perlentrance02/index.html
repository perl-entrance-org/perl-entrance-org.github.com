<!DOCTYPE html>
<html lang="ja-JP">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=1024" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <title></title>
  <link href="http://fonts.googleapis.com/css?family=Open+Sans:regular,semibold,italic,italicsemibold|PT+Sans:400,700,400italic,700italic|PT+Serif:400,700,400italic,700italic" rel="stylesheet" />
  <link href="impress/css/impress-demo.css" media="screen" rel="stylesheet" />
  <link href="gcp/prettify.css" media="screen" rel="stylesheet" />
  <link href="css/app.css" media="screen" rel="stylesheet" />
</head>
<body class="impress-not-supported">

<div class="fallback-message">
    <p>Your browser <b>doesn't support the features required</b> by impress.js, so you are presented with a simplified version of this presentation.</p>
    <p>For the best experience please use the latest <b>Chrome</b>, <b>Safari</b> or <b>Firefox</b> browser.</p>
</div>

<div id="impress">
  <div id="title" class="step" data-y="0" data-x="0"><h1>Perl入学式 #2</h1>
</div><div class="step" data-y="0" data-x="1024"><h2>今日の流れ</h2>

<ul>
<li>前回の復習</li>
<li>おまじない</li>
<li>標準入力</li>
<li>変数</li>
<li>基本的な演算子</li>
<li>if, else文</li>
<li>for文, 配列</li>
</ul>
</div><div class="step" data-y="0" data-x="2048"><h1>前回の復習</h1>
</div><div class="step" data-y="0" data-x="3072"><h2>plenv</h2>

<pre class="lang-perl prettyprint linenums"><code>$ plenv versions
* 5.16.3
  system
</code></pre>

<ul>
<li><code>plenv versions</code>とすることで, <code>5.16.3</code>が選択されているか確認しよう
<ul>
<li>plenvのバージョンが古い方は<code>plenv list</code>で確認できます</li>
</ul></li>
</ul>
</div><div class="step" data-y="0" data-x="4096"><h2>Hello, World!</h2>

<pre class="lang-perl prettyprint linenums"><code>print "Hello, World!\n";
</code></pre>

<ul>
<li>このように書いたものを, <code>hello.pl</code>として保存</li>
<li><code>print</code>は, 端末に文字を出力する</li>
<li><code>\n</code>は改行を表す</li>
<li>最後に<code>;</code>を忘れずに</li>
</ul>
</div><div class="step" data-y="0" data-x="5120"><h2>Hello, World! の実行</h2>

<pre class="lang-perl prettyprint linenums"><code>$ perl hello.pl
Hello, World!
</code></pre>

<ul>
<li><code>perl</code>の引数に実行するスクリプトファイル名を与えると, そのスクリプトを実行する</li>
</ul>
</div><div class="step" data-y="0" data-x="6144"><h2>今日の内容</h2>
</div><div class="step" data-y="768" data-x="0"><h2>おまじない</h2>

<pre class="lang-perl prettyprint linenums"><code>#!/usr/bin/env perl
use strict;
use warnings;
</code></pre>

<ul>
<li>おまじないとして, 冒頭の3行を書くようにしよう</li>
<li><code>use strict</code> -> 厳密な書式を定めたり, 未定義の変数を警告するといった効果</li>
<li><code>use warnings</code> -> 望ましくない記述を警告してくれる効果
<ul>
<li>以下, この資料のサンプルコードでは｢お約束｣を省略します.</li>
<li>書かれているものとして扱ってください.</li>
</ul></li>
</ul>
</div><div class="step" data-y="768" data-x="1024"><h2>use</h2>

<pre class="lang-perl prettyprint linenums"><code>use Acme::FizzBuzz;
</code></pre>

<ul>
<li><code>use</code>の後にモジュール名を書くことで, そのモジュールを読み込んで利用する事を意味する</li>
<li>前回の<code>Acme::FizzBuzz</code>のように, <code>CPAN</code>からモジュールを入手できる
<ul>
<li>インストール時にデフォルトで入っているモジュールもある</li>
</ul></li>
</ul>
</div><div class="step" data-y="768" data-x="2048"><h2>練習問題</h2>

<ul>
<li>先程の冒頭の3行のおまじないを加えた上で, <code>Hello, World</code>という文字列を出力する<code>hello.pl</code>を作成しよう</li>
</ul>
</div><div class="step" data-y="768" data-x="3072"><h2>(スカラ)変数</h2>

<pre class="lang-perl prettyprint linenums"><code>my $hoge;
$hoge = 1;
my $foo = 3.14;
$hoge = "bar";
</code></pre>

<ul>
<li>変数の先頭には, <code>$hoge</code>のように<code>$</code>をつける</li>
<li>変数を宣言するとき(最初に使うとき)は, 先頭に<code>my</code> をつける</li>
<li><code>Perl</code> では, C言語のように <code>int</code>, <code>char</code> といった型がないので, 数値や文字列などを自由に代入することができる</li>
</ul>
</div><div class="step" data-y="768" data-x="4096"><h2>変数の出力</h2>

<pre class="lang-perl prettyprint linenums"><code>my $hoge = 1;
print "$hoge\n"; # 1
print '$hoge\n'; # $hoge\n
</code></pre>

<ul>
<li><code>print</code> を使うことで変数を出力することができる</li>
<li>変数を出力する場合は, <code>""(ダブルクォテーション)</code>の中に変数を書けばよい
<ul>
<li><code>""</code>の中に変数を書くと, その変数の中身が展開されて表示される</li>
<li><code>''</code>の中では, 展開はされず, 全てがそのまま出力される</li>
</ul></li>
<li><code>\n</code>は改行を意味する</li>
</ul>
</div><div class="step" data-y="768" data-x="5120"><h2>練習問題</h2>

<ul>
<li>自分の名前, 年齢, 身長などの情報をそれぞれ<code>name</code>, <code>age</code>, <code>height</code>といった変数に格納し, それらの値を出力するスクリプト <code>profile.pl</code>を作成しよう</li>
<li><code>use strict</code>, <code>use warnings</code>を使おう</li>
</ul>
</div><div class="step" data-y="768" data-x="6144"><h2>標準入力</h2>

<pre class="lang-perl prettyprint linenums"><code>my $str = &lt;STDIN&gt;;
chomp $str;
print $str;
</code></pre>

<ul>
<li>端末からPerlに対して, 標準入力を介して文字列を入力することができる
<ul>
<li><code>&lt;STDIN&gt;</code>で端末から入力し, 入力した文字列を変数<code>str</code>に格納する</li>
<li><code>chomp</code>により行末の改行を削除できる</li>
</ul></li>
<li>このスクリプトを<code>stdin.pl</code>という名前で保存して, 実行してみよう</li>
</ul>
</div><div class="step" data-y="1536" data-x="0"><h2>基本的な演算子(四則演算)</h2>

<pre class="lang-perl prettyprint linenums"><code>my $hoge = 4;
my $foo  = 2;
my $res;
$res = $hoge + $foo  # 4 + 2 = 6
$res = $hoge - $foo  # 4 - 2 = 2
$res = $hoge * $foo  # 4 * 2 = 8
$res = $hoge / $foo  # 4 / 2 = 2
$res = $hoge % $foo  # 4 % 2 = 0
$res = $hoge ** $foo # 4 の 2乗 は 16
</code></pre>

<ul>
<li><code>perl</code>では, C言語と異なりべき乗の計算を簡単に行うことができる</li>
</ul>
</div><div class="step" data-y="1536" data-x="1024"><h2>基本的な演算子(文字列連結)</h2>

<pre class="lang-perl prettyprint linenums"><code>my $foo = 'hoge';
my $bar = 123;
my $baz = $foo . $bar; # hoge123
print $foo . $baz . "\n"; # hogehoge123
</code></pre>

<ul>
<li><code>.</code>で, 文字列や変数を結合することができます.</li>
</ul>
</div><div class="step" data-y="1536" data-x="2048"><h2>演算の順番</h2>

<pre class="lang-perl prettyprint linenums"><code>my $hoge = 2 + 4 * 3;   # 14
my $fuga = (2 + 4) * 3; # 18
</code></pre>

<ul>
<li>演算の順序は, <code>()</code>を付けることで変更することができます.
<ul>
<li>通常の数学と同じく, Perlも足し算･引き算より掛け算･割り算の優先順位が高いですが, 2行目は<code>()</code>を付けることで足し算を先に計算させています.</li>
</ul></li>
</ul>
</div><div class="step" data-y="1536" data-x="3072"><h2>練習問題</h2>

<ul>
<li>標準入力<STDIN>から変数を2つ読み込み, それらを四則演算(+, -, *, /)した結果を出力するスクリプト <code>calc.pl</code>を作成しよう</li>
</ul>
</div><div class="step" data-y="1536" data-x="4096"><h2>制御構文(if)</h2>

<pre class="lang-perl prettyprint linenums"><code>my $hoge = 1;
if ( $hoge == 1 ) {
  print "OK\n"; # 条件が｢真｣の場合
} else {
  print "NG\n"; # 条件が｢偽｣の場合
}
</code></pre>

<ul>
<li><code>==</code> は"右辺と左辺が等しければ真"であることを意味する
<ul>
<li>真 = 条件が正しい, 偽 = 条件が正しくない</li>
</ul></li>
<li>ここでは<code>$hoge</code>が<code>1</code>と等しい場合に限り真となり, <code>OK</code>という文字が表示される</li>
<li><code>$hoge</code>が1でなければ, 偽となるため<code>else</code>に処理が移り<code>NG</code>という文字が表示される</li>
</ul>
</div><div class="step" data-y="1536" data-x="5120"><h2>制御構文(if)</h2>

<pre class="lang-perl prettyprint linenums"><code>my $hoge = 1;
if ( $hoge == 1 ) {
  print "OK\n"; # 条件が｢真｣の場合
}
</code></pre>

<ul>
<li><code>else</code>の部分は省略することもできる
<ul>
<li>この場合, 条件が偽の場合(<code>$hoge</code>が<code>1</code>ではない場合)は, 何の処理も行われない</li>
</ul></li>
</ul>
</div><div class="step" data-y="1536" data-x="6144"><h2>数値の比較</h2>

<pre class="lang-perl prettyprint linenums"><code>== # 右辺と左辺が等しいならば真
!= # 右辺と左辺が等しくないならば真
&lt;  # 右辺より左辺が小さいならば真
&gt;  # 右辺より左辺が大きいならば真
&lt;= # 右辺が左辺以上ならば真
&gt;= # 右辺が左辺以下ならば真
</code></pre>

<ul>
<li>数字同士を比較するときは, このような比較演算子を使う</li>
</ul>
</div><div class="step" data-y="2304" data-x="0"><h2>文字列の比較</h2>

<pre class="lang-perl prettyprint linenums"><code>eq  ==  equal
ne  !=  not equal
gt  &gt;   greater than
ge  &gt;=  greater equal
lt  &lt;   less than
le  &lt;=  less equal
</code></pre>

<ul>
<li>数値を比較する場合は<code>==</code>や<code>!=</code>を使うが, 文字列を比較する場合は<code>eq</code>や<code>ne</code>といった演算子を使う
<ul>
<li><code>eq</code>, <code>ne</code>以外はあまり使わない</li>
<li>文字列の大小とは, 辞書順に並べた時に前にくるものが小さく, 後ろにくるものが大きいということ</li>
</ul></li>
</ul>
</div><div class="step" data-y="2304" data-x="1024"><h2>文字列比較</h2>

<pre class="lang-perl prettyprint linenums"><code>my $hoge = 'hello';
if ( $hoge eq 'hello' ) {
    print "OK";
} else {
    print "NG";
}
</code></pre>

<ul>
<li>今回は文字列を比較しているので, <code>==</code>ではなく<code>eq</code>を用いている
<ul>
<li><code>use warnings;</code>が宣言されている状態で, 文字列に対して<code>==</code>を適用すると警告が発生する</li>
</ul></li>
</ul>
</div><div class="step" data-y="2304" data-x="2048"><h2>練習問題</h2>

<pre class="lang-perl prettyprint linenums"><code>#!/usr/bin/env perl
use strict;
use warnings;
my $answer = 'perl'; # 好きな文字をいれる
</code></pre>

<ul>
<li>簡単な文字当てゲーム <code>question_word.pl</code>を作成しよう</li>
<li>端末から文字列を一つ入力し, その文字列が<code>$answer</code>と一致したら<code>OK</code>, 外れたら<code>NG</code>と表示する</li>
</ul>
</div><div class="step" data-y="2304" data-x="3072"><h2>複数の制御構文</h2>

<pre class="lang-perl prettyprint linenums"><code>my $hoge = 1;
if ( $hoge == 1 ) {
    ...
} elsif ( $hoge == 2 ) {
    ...
} elsif ( $hoge == 3 ) {
    ...
} else {
    ...
}
</code></pre>

<ul>
<li><code>elsif</code>を使うことで, 分岐条件をさらに増やすことができる.</li>
</ul>
</div><div class="step" data-y="2304" data-x="4096"><h2>関係演算子</h2>

<pre class="lang-perl prettyprint linenums"><code>&amp;&amp; -&gt; かつ
|| -&gt; または
</code></pre>

<ul>
<li><code>if文</code>で複雑な条件を扱いたいときは, <code>関係演算子</code>を用いて複数の条件を連結するとよい.
<ul>
<li><code>&amp;&amp;</code>演算子は｢かつ｣なので, 両方の条件が真となるときのみ真となる</li>
<li><code>||</code>演算子は｢または｣なので, 条件のどちらか1つでも真となるならば真となる</li>
</ul></li>
</ul>
</div><div class="step" data-y="2304" data-x="5120"><h2>関係演算子</h2>

<pre class="lang-perl prettyprint linenums"><code>my $hoge = 64;
if ( $hoge &gt; 0 &amp;&amp; $hoge % 2 == 0 ) {
    print "&amp;&amp;: OK\n";
}
if ( $hoge &gt; 0 || $hoge % 2 == 1 ) {
    print "||: OK\n";
}
</code></pre>

<ul>
<li>2行目は, ｢64は0より大きい(真)｣かつ｢64を2で割った余りは0(真)｣なので, 真となる</li>
<li>5行目は, ｢64は0より大きい(真)｣または｢64を2で割った余りは1(偽)｣なので, 真となる</li>
</ul>
</div><div class="step" data-y="2304" data-x="6144"><h2>練習問題</h2>

<pre class="lang-perl prettyprint linenums"><code>#!/usr/bin/env perl
use strict;
use warnings;
my $answer = 1; # 好きな値をいれる
</code></pre>

<ul>
<li>簡単な数当てゲーム <code>question_num.pl</code>を作成しよう</li>
<li>端末から数字を一つ入力し, その数字が<code>$answer</code>と一致したら<code>OK</code>, <code>$answer</code>より大きければ<code>too big</code>, 小さければ<code>too small</code>と表示する
<ul>
<li>オプション: 入力した値が, <code>$answer</code>から-5〜+5の範囲内(<code>$answer</code>が10なら, 5〜15)の場合, <code>near</code>と表示するようにしてみよう</li>
</ul></li>
</ul>
</div><div class="step" data-y="3072" data-x="0"><h2>配列</h2>

<pre class="lang-perl prettyprint linenums"><code>my @array = ( 1, "hoge", 3 );
print "@array\n";    # 1 hoge 3
print "$array[0]\n"; # 1
print "$array[1]\n"; # hoge
print "$array[2]\n"; # 3
</code></pre>

<ul>
<li>配列を使うことで, 数値や文字列をまとめて格納できます</li>
<li>配列は変数名の前に<code>@</code>をつける</li>
<li>配列の一つ一つの要素にアクセスする場合は<code>$変数名[添字]</code>を使う
<ul>
<li>添字は1ではなく0からスタートして, 1ずつ増えていく</li>
</ul></li>
</ul>
</div><div class="step" data-y="3072" data-x="1024"><h2>配列</h2>

<pre class="lang-perl prettyprint linenums"><code>my @array = ( 1, "hoge", 3 );
my $sum = $array[0] + $array[2];
print "$sum\n" # =&gt; 4
</code></pre>

<ul>
<li>配列の要素は普通のスカラ変数と同じように扱えるので, 代入や計算ができる</li>
</ul>
</div><div class="step" data-y="3072" data-x="2048"><h2>範囲演算子</h2>

<pre class="lang-perl prettyprint linenums"><code>my @array1 = ( 1, 2 );
my @array2 = ( 1 .. 5 );
my @array3 = ( @array1, 3 ); # (1, 2, 3)
</code></pre>

<ul>
<li><code>()</code>を使うことで, 配列にをまとめて代入することができる</li>
<li>連続する数字であれば, 範囲演算子<code>..</code>を使って<code>1 .. 5</code>と書くことで<code>1以上10以下</code>の値を配列に代入する</li>
<li>3行目のように, 数値や文字列だけでなく, 配列も組み合わせることができる</li>
</ul>
</div><div class="step" data-y="3072" data-x="3072"><h2>reverse</h2>

<pre class="lang-perl prettyprint linenums"><code>my @array1 = ( 5, 4, 3, 2, 1 );
my @array2 = reverse ( 1 .. 5 ); # OK
my @array3 = ( 5 .. 1 ); # NG
</code></pre>

<ul>
<li><code>@array1</code>のように, 連番を逆の順番で配列に格納したい場合は<code>reverse</code>を使うとよい
<ul>
<li>範囲演算子<code>..</code>は, 必ず右側の値が左側の値より大きくなければならないので, <code>@array2 = ( 5 .. 1 );</code>のように書くと<code>@array2</code>には空の要素が格納されるので注意</li>
</ul></li>
</ul>
</div><div class="step" data-y="3072" data-x="4096"><h2>sort</h2>

<pre class="lang-perl prettyprint linenums"><code>my @array1 = ( 5, 4, 3, 2, 1 );
my @sorted = sort @array1; # (1, 2, 3, 4, 5)
</code></pre>

<ul>
<li><code>sort</code>を使うと, 配列の要素をソートしてくれる
<ul>
<li><code>sort { $a &lt;=&gt; $b }</code>と書くと, 数値としてソート</li>
<li><code>sort { $a cmp $b }</code>, あるいは<code>sort</code>のみを書くと, 文字列としてソート</li>
</ul></li>
<li>変数<code>$a</code>と<code>$b</code>はsortで使う為に予約されているので, sort以外で使ってはいけない</li>
</ul>
</div><div class="step" data-y="3072" data-x="5120"><h2>for ループ</h2>

<pre class="lang-perl prettyprint linenums"><code>my @array = ( 1, "hoge", 3 );
for my $var ( @array ) {
  print "$var\n";
}
</code></pre>

<ul>
<li>配列の中身を走査するのに, <code>for</code>文がある
<ul>
<li><code>foreach</code>と書いてもよい. Perlの内部では, 同じように処理される</li>
</ul></li>
<li>この場合, 変数<code>$var</code>に<code>$array[0]</code>, <code>$array[1]</code> ... という値が順番に代入され, 処理が行われる</li>
</ul>
</div><div class="step" data-y="3072" data-x="6144"><h2>for ループ ( C言語風 )</h2>

<pre class="lang-perl prettyprint linenums"><code>my @array = ( 1, "hoge", 3 );
for ( my $i = 0; $i &lt;= $#array; $i++ ) {
  print "$array[$i]\n";
}
</code></pre>

<ul>
<li><code>$#array</code>は, <code>@array</code>の最大の添字を表す
-この場合, <code>@array</code>には3個の要素が格納されているので, 最大の添字は2となる</li>
<li>よほどの事がないかぎり, この方式の<code>for</code>は使いません!</li>
</ul>
</div><div class="step" data-y="3840" data-x="0"><h2>for ループ</h2>

<pre class="lang-perl prettyprint linenums"><code>for my $i (1..10) {
    print "$i回目のhello!\n";
}
</code></pre>

<ul>
<li>｢ある処理を10回繰り返したい｣という場合, 範囲演算子を使ってこのように書くこともできる.
<ul>
<li>結構便利なので覚えておこう!</li>
</ul></li>
</ul>
</div><div class="step" data-y="3840" data-x="1024"><h2>練習問題</h2>

<ul>
<li>配列<code>@array</code>に<code>&lt;STDIN&gt;</code>を使って3つの文字列を格納し, これを｢文字列として｣ソートしたものを出力する<code>sort.pl</code>を書いてみよう
<ul>
<li>ヒント: <code>@array</code>に文字列を3個入力する処理は, for文を使ってシンプルに書いてみよう</li>
</ul></li>
</ul>
</div><div class="step" data-y="3840" data-x="2048"><h2>最終問題</h2>

<ul>
<li><code>FizzBuzz</code>問題にチャレンジ!!
<ul>
<li>1から100までの数字について, その数字が<code>3</code>で割り切れるなら<code>Fizz</code>, <code>5</code>で割り切れるなら<code>Buzz</code>, <code>3</code>でも<code>5</code>でも割り切れるなら<code>FizzBuzz</code>, それ以外ならばその数字自身を出力する<code>fizzbuzz.pl</code>を作成しよう</li>
</ul></li>
</ul>
</div><div class="step" data-y="3840" data-x="3072"><h2>復習問題</h2>

<ul>
<li><p><a href="https://github.com/perl-entrance-org/workshop-2013-02/blob/master/practice.md">https://github.com/perl-entrance-org/workshop-2013-02/blob/master/practice.md</a></p>

<ul>
<li>今回の内容を復習することができる問題集です</li>
<li>ご不明な点があれば, 気軽にスタッフまでお尋ねください</li>
</ul></li>
</ul>
</div><div class="step" data-y="3840" data-x="4096"><h2>更新履歴</h2>

<ul>
<li>2013/7/22: 加筆修正.</li>
</ul>
</div>
<!--  <div id="overview" class="step" data-x="3072" data-y="1920" data-scale="15"></div> -->
</div>

<div class="hint">
  <p>Use a spacebar or arrow keys to navigate</p>
</div>
<script>
if ("ontouchstart" in document.documentElement) {
  document.querySelector(".hint").innerHTML = "<p>Tap on the left or right to navigate</p>";
}
</script>
<script src="impress/js/impress.js"></script>
<script src="gcp/prettify.js"></script>
<script src="js/app.js"></script>
</body>
</html>
